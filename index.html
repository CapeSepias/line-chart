<!doctype html style="height:100%">
<html lang="en" ng-app="myApp">
<head>
  <meta charset="utf-8">
  <title>Line chart demo</title>
  <link rel="stylesheet" href="line-chart.css"/>
  <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"/>
</head>
<body ng-controller="DemoCtrl">
  <div class='container'>
    
    <div class="jumbotron">
      <h1>n3-charts examples
      <a
        href="http://plnkr.co/edit/rU1AdH?p=preview" target="_blank"
        class="btn btn-large btn-primary">Playground <i class="icon-share-alt icon-white"></i></a>
    </div>
    
    
    <div class='' ng-repeat="example in examples">
      <h3>{{example.label}}</h3>
      <div class='row guttered'>
        <div class='span9'>
          <div style="height: 500px">
            <linechart data='example.data' options='example.options'></linechart>
          </div>
        </div>
        <div class='span3'>
          <pre class="prettyprint">{{example.json}}</pre>
        </div>
      </div>
      <hr style="border: 1px solid rgba(14,46,66,0.2);">
    </div>
  </div>
  
  <script src="lib/angular.js"></script>
  <script src="lib/d3.v3.min.js"></script>
  <script src="line-chart.js"></script>
  <script>
    angular.module('myApp', ['n3-charts.linechart'])
    
    .controller('DemoCtrl', function($scope) {
      var sinData = function(rowCount, seriesCount) {
        var data = [];
        
        for (var i = 0; i < seriesCount; i++) {
          for (var j = 0; j < rowCount; j++) {
            var row = data[j] || {x: j};
            row['series_' + i] = Math.round(Math.sin((i+1)*j/5)*(5*(i+1))*1000)/1000;
            data[j] = row;
          }
        }
        
        return data;
      }
      
      $scope.examples = [];
      
      $scope.addExample = function(label, desc, data, options) {
        $scope.examples.push({
            label: label,
            description: desc,
            data: data,
            options: options,
            json: JSON.stringify(options, null, 2)
        });
        
        return $scope.addExample;
      };
      
      $scope.setCurrent = function(example) {
        $scope.current = example;
        $scope.json = JSON.stringify(example.options, null, 2);
      }
      
      var colors = d3.scale.category10();
      
      $scope.addExample
      
        ('Line series', 'A basic example', sinData(50, 1),
          {series: [{y: 'series_0', color: colors(0)}]})
        
        ('Area series', 'A basic example', sinData(50, 1),
          {series: [{y: 'series_0', color: colors(1), type: 'area'}]})
        
        ('Column series', 'A basic example', sinData(50, 1),
          {series: [{y: 'series_0', color: colors(2), type: 'column'}]})
        
        ('Two axes', 'A basic example', sinData(50, 2),
          {series: [
            {y: 'series_0', color: colors(3)},
            {y: 'series_1', axis: 'y2', color: colors(4)}
          ]}
        )
        
        ('Interpolation', 'A basic example', sinData(50, 5),
          {lineMode: 'bundle', series: [
            {y: 'series_0', color: colors(5)},
            {y: 'series_4', axis: 'y2', color: colors(6)}
          ]}
        )
        
        ('Several series', 'A basic example', sinData(50, 5),
          {lineMode: 'cardinal', series: [
            {y: 'series_0', type: 'area', color: colors(7)},
            {y: 'series_4', type: 'column', color: colors(8)},
            {y: 'series_4', color: colors(9)}
          ]}
        );
      
      $scope.setCurrent($scope.examples[0]);
    })
  </script>
  <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
</body>
</html>
